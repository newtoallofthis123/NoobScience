---
import { getCollection } from "astro:content";
import Base from "../layouts/base.astro";
import HomeNav from "../components/navigation/home_nav";
import Notification from "../components/utils/notification/notification";
import UpdateLatest from "../components/updates/latest";

const options = [
    'is a Developer',
    'is into ML now',
    'creates websites',
    'is a student',
]

let posts = await getCollection('blog', ({data}) => {
    return data.draft !== true
});

posts = posts.sort(
    (a: any, b: any) =>
        new Date(b.data.date).getTime() -
        new Date(a.data.date).getTime()
);
const latest = posts.filter((post: any) => post.data.type != 'quick').slice(0, 3)
---

<Base title="NoobScience | Student and Open Source Enthusiast">
    <div>
        <HomeNav title="NOOBSCIENCE" client:load />
        <div class="z-0 md:px-20  md:py-14 p-5">
            <div class="font-serif text-gray-900">
                <div>
                    <h1 class="md:text-7xl leading-snug text-4xl">
                        <a href="/about" class="font-bold text-black leading-snug md:text-8xl text-6xl cursor-help transform duration-500">Ishan</a> 
                            {' '}{options[Math.floor(Math.random() * options.length)]}
                    </h1>
                </div>
                <h1 class="md:py-10 md:text-6xl leading-snug text-4xl font-bold">
                    and he's know as <span class="text-lime-400 p-1">NoobScience</span>.
                </h1>
            </div>
            <div class="flex md:flex-row flex-col justify-center items-center">
                <div class="md:w-4/5 w-full">
                    <div class="md:p-0 py-5">
                        <p>
                            Mostly Codes and Drinks Coffee.
                        </p>
                        <p>
                            1st Student At GRIET.
                        </p>
                    </div>
                    <div class="">
                        <Notification client:load />
                    </div>
                </div>
                <div class="md:block hidden md:w-1/4 w-full">
                    <img width="190" class="w-2/6" src="/assets/svgs/circle.svg" alt="">
                </div>
            </div>
            <span class="block w-1/5 h-1 mt-8 bg-red-600"></span>
            <div>
                <h1 class="py-4 text-3xl font-mono">
                    Since 2004 ;)
                </h1>
                <p class="text-lg">
                    By the way, you should scroll down or check out my writings
                </p>
            </div>
            <div class="flex pt-4 md:flex-row flex-col justify-center">
                <div class="md:w-3/5 w-full">
                    <h1 class="md:text-5xl text-3xl py-5 pt-8 font-bold">
                        Cool Stuff, I do
                    </h1>
                    <p>
                        Hi! I am Ishan. Get to know me from these bullets.
                    </p>
                    <ul class="list-none font-normal py-3">
                        <li>
                            üéí 1st year Student at GRIET
                        </li>
                        <li>
                            üßë‚Äçüíª Full Developer and Coder
                        </li>
                        <li>
                            <i class="bi bi-github pl-1"></i> Open Source Enthusiast
                        </li>
                        <li>
                            üìù Opinionated Writer
                        </li>
                        <li>
                            ü§ñ Learning to teach Machines
                        </li>
                        <li>
                            üì± Trying to distance from Social Media
                        </li>
                        <li>
                            üåê Loves building and maintaining sites
                        </li>
                        <li>
                            üê∂ Dog Lover
                        </li>
                        <li></li>
                    </ul>
                </div>
                <div class="md:w-2/5 w-full">
                    <img src="/assets/images/welcome.webp" alt="">
                </div>
            </div>
            <div class="flex md:flex-row flex-col justify-center items-center">
                <div class="md:w-2/4 w-full">
                    <h1 class="text-5xl py-5 pt-8 font-bold">
                        Latest Posts
                    </h1>
                    {
                        latest.map((post) => {
                            return (
                                <div onclick={
                                            "location.href = '/blog/" + post.slug + "'"
                                        } class="md:p-3 md:my-3 p-1 transform hover:scale-105 hover:border-2 hover:border-gray-300 rounded-lg cursor-pointer transition duration-300 ease-in-out">
                                    <h1 class="text-2xl leading-relaxed font-bold">
                                        {post.data.emoji}{' '}{post.data.title}
                                    </h1>
                                    <p class="text-xl leading-relaxed">
                                        {post.data.description}    
                                    </p>
                                    <p class="text-xl leading-relaxed">
                                        Posted on <span>{new Date(post.data.date).toDateString()}</span> | {post.data.minutesRead}
                                    </p>
                                </div>
                            )
                        })
                    }
                </div>
                <div class="md:w-2/4 w-full">
                    <UpdateLatest slice_length={300} client:load />
                </div>
            </div>
        </div>
    </div>
</Base>
<style is:inline>
    #heading{
        line-height: 4rem;
    }
    @media screen and (max-width: 768px){
        #heading{
            line-height: 3rem;
        }    
    }
</style>